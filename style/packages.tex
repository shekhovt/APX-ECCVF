%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Include other packages here, before hyperref.
\usepackage{etex}
\usepackage{url}
\usepackage[numbers]{natbib}
\renewcommand\bibname{References}
\usepackage{cvpr-abbriv}
%%%%
\usepackage{epsfig}
%\usepackage{adjustbox}
\usepackage{graphicx}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{array}
\usepackage{tabularx}
\usepackage{url}
\usepackage{graphicx}
\usepackage{amsmath,amssymb} % define this before the line numbering.
%%%%Undefine llncs proof
\makeatletter
\let\lncsproof\proof                         % make \IEEEproof do same as \proof
\let\lncsendproof\endproof              % make \IEEEendproof do same as \endproof
\let\proof\@undefined                        % undefine \proof
\let\endproof\@undefined                  % undefine \endproof
\makeatother
%%%%%%%%%%%%%%
\usepackage{amsthm}
%%%%%%%%%%%%%%
\usepackage{amsthm}
\usepackage{amsxtra}
\usepackage{stmaryrd}
\usepackage{comment}
\usepackage[ruled,vlined,linesnumbered,procnumbered,longend]{algorithm2e}
\newcommand\mycommfont[1]{\small\ttfamily\textcolor{blue}{#1}}
\SetCommentSty{mycommfont}
%
\usepackage{multirow,rotating}
\usepackage{array}
\usepackage{afterpage}
\usepackage{dblfloatfix}
\usepackage{setspace}
\usepackage{floatrow}
\usepackage{booktabs}
\usepackage{color, colortbl}
\usepackage{tabularx,calc}
\usepackage{tikz}                 % create images using pgf/tikz
%\usepackage{subfigure}
\usetikzlibrary{patterns,fit,external}
\usepackage{pgfplots}             % draw plots in tikz style
%\pgfplotsset{compat=1.10}
\usepackage{overpic}
\usepackage{tocloft}
\usepackage{bbm}
%\usepackage{longtable}
\usepackage[absolute]{textpos}
\usepackage{atbeginend}
%\usepackage{enumitem}
%\usepackage{accents}
\usepackage{units}
\usepackage{xifthen}

%\usepackage[titletoc,title]{appendix}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\usepackage{times}
\usepackage{tikzscale}
\usepackage{marginnote}
\tikzexternalize[prefix=pics_auto/] %activate!
%--------------------------------------
%    TODO Notes
%--------------------------------------
\usepackage[textwidth=2cm,figwidth=\columnwidth,colorinlistoftodos]{todonotes}
% The following hack is to ensure, that tikz externalize does not render todonotes!
\makeatletter
\renewcommand{\todo}[2][]{\tikzexternaldisable\@todo[#1]{#2}\tikzexternalenable}
% \renewcommand{\missingfigure}[2][]{\tikzexternaldisable\@missingfigure[#1]{#2}\tikzexternalenable}
\makeatother
\newcommand{\insertfigure}[2][]{\tikzexternaldisable
\begin{figure}
 \missingfigure[#1]{#2}
 \caption{#2}
\end{figure}
\tikzexternalenable}
\newcommand{\insertref}[1]{\todo[fancyline,color=green!20]{Add reference: #1}}
\newcommand{\explainindetail}[1]{\todo[fancyline,color=red!20]{#1}}
\newcommand{\inlinetodo}[1]{\todo[inline,color=blue!20]{#1}}

\newcounter{mycomment} % Usage:  \mycomment[CR]{Schreib was gscheits}
\newcommand{\mycomment}[2][]
{%
  % initials of the author (optional) + note in the margin
  \refstepcounter{mycomment}%
  {%
%     \setstretch{0.7}% spacing
    \todo[fancyline,color={red!100!green!33},size=\small]
    {%
      \textbf{Comment [\uppercase{#1}\themycomment]:}~#2
    }%
  }
}

% ------------- Tables stuff ------------------------------------------
\usepackage{booktabs}
\usepackage{multirow}
\usepackage{tabularx}
\usepackage{array}
\usepackage{floatrow}
\floatsetup[figure]{style=plain,subcapbesideposition=center}
\usepackage[
  position=bottom,
  font=small,
  labelfont={bf},
%   format=hang,
%   indention=0mm,
]{caption,subfig}
\usepackage{longtable}
\usepackage{tabu} %% !!! this is better!
%%%%%%%%%%%%%%%%%%%%%%%%%%%%Color boxes%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\usepackage[most]{tcolorbox}
\usepackage{pbox}
\newlength{\luw}
\newlength{\luh}
\newcommand{\flabels}[1]{%
    \settowidth{\luw}{\begin{tabular}{l}\,#1\,\end{tabular}}%
		\settototalheight{\luh}{%
		\begin{tcolorbox}[width=\luw+5pt, boxsep=1pt, left=0pt, right=0pt, top=0pt, bottom=0pt,nobeforeafter]%
		\begin{tabular}{l}%
		\,#1\,\vphantom{$f^1$fq}%
		\end{tabular}%
		\end{tcolorbox}%
		}%
		\pbox[t][][b]{\textwidth}{%
		\resizebox{!}{0.8\luh}{%
		\begin{tcolorbox}[width=\luw+5pt, boxsep=1pt, left=0pt, right=0pt, top=0pt, bottom=0pt,nobeforeafter]%
		\begin{tabular}{l}%
		\,#1\,\vphantom{$f^1$fq}%
		\end{tabular}%
		\end{tcolorbox}%
		}%
		}%
}%

\newcommand{\labelgraphics}[3][width=0.5\linewidth]{%
%\begin{tabular}{c}
\setlength{\fboxsep}{0pt}%
\tikzset{external/export next=false}%
\begin{tikzpicture}%
  \node[inner sep = 0pt] (a) {\includegraphics[#1]{#2}};
  \node[anchor=north west,inner sep=1pt] at (a.north west) {\flabels{#3}};
\end{tikzpicture}%
%\end{tabular}%
}%


%%%%%%%%%%%%%%%%%%%%%%%%%%%%THIS ORDER IS ESSENTIAL%%%%%%%%%%%%%%%%%%%%%%%
\usepackage[draft=false, pagebackref=false,breaklinks=true,colorlinks,bookmarks=false,pdftex]{hyperref}
\hypersetup{hidelinks,colorlinks=false,linkbordercolor={1 1 1}}
\input{style/tex_defs.tex}
\input{style/myspace.tex}
\usepackage{thmtools, thm-restate}
\usepackage[capitalise,nameinlink]{cleveref}
\crefformat{equation}{(#2#1#3)}
%\crefname{section}{\S}{\S}
\crefname{section}{\parSym}{\parSym\parSym}
\Crefname{section}{\parSym}{\parSym\parSym}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\usepackage[bottom]{footmisc}